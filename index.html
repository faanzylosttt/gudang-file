<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Faanzy Cloaud</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{--neon:#00f5ff;--pink:#ff006e;--bg:#050505}
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Segoe UI',sans-serif;background:var(--bg);color:#fff;min-height:100vh}
    header{text-align:center;padding:50px 20px}
    header .cloud-icon{font-size:70px;background:linear-gradient(135deg,var(--neon),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:float 3s ease-in-out infinite}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
    header h1{font-size:42px;font-weight:900;background:linear-gradient(90deg,var(--neon),var(--pink));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-top:10px}

    /* Cloud Grid */
    #wall{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:30px;padding:40px 20px;max-width:1500px;margin:auto}
    .card{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);border-radius:20px;padding:30px 25px;position:relative;transition:.4s}
    .card:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 0 25px var(--neon)}
    .icon-3d{font-size:60px;background:linear-gradient(135deg,var(--neon),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;filter:drop-shadow(0 0 15px var(--neon))}
    .file-name{font-size:18px;font-weight:600;margin:15px 0 5px;word-break:break-all}
    .file-size{font-size:13px;color:#aaa;margin-bottom:15px}
    .btn-down{background:linear-gradient(45deg,var(--neon),var(--pink));border:none;color:#000;font-weight:700;padding:10px 24px;border-radius:999px;cursor:pointer}
    .btn-down:hover{transform:scale(1.05);box-shadow:0 0 20px var(--neon)}

    /* Titik-tiga menu */
    .menu{position:absolute;top:15px;right:15px;cursor:pointer;font-size:20px;color:#ccc}
    .menu:hover{color:var(--neon)}
    .dropdown{display:none;position:absolute;top:40px;right:15px;background:rgba(20,20,20,.95);border:1px solid var(--neon);border-radius:8px;z-index:100}
    .dropdown a{display:block;padding:8px 14px;color:#fff;font-size:13px;text-decoration:none}
    .dropdown a:hover{background:var(--neon);color:#000}

    /* Gate */
    .gate{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;place-items:center;z-index:100}
    .gate-box{background:rgba(255,255,255,.05);border:1px solid var(--neon);border-radius:20px;padding:40px;max-width:350px;text-align:center}
    .task{display:block;border:1px solid rgba(255,255,255,.2);border-radius:999px;padding:12px 18px;margin:8px 0;color:#fff;text-decoration:none}
    .task.done{background:linear-gradient(45deg,var(--neon),var(--purple));color:#000;border-color:transparent}
    .gate-ready{display:none;margin-top:15px}
    @media(max-width:600px){#wall{grid-template-columns:1fr}}
  </style>
</head>
<body>

<header>
  <i class="fas fa-cloud cloud-icon"></i>
  <h1>Faanzy Cloaud</h1>
</header>

<div id="wall"></div>

<!-- Gate Unlock -->
<div class="gate" id="gate">
  <div class="gate-box">
    <h2><i class="fas fa-unlock-alt"></i> Unlock</h2>
    <p>Complete actions:</p>
    <a href="https://instagram.com/username"  target="_blank" class="task ig"><i class="fab fa-instagram"></i> Instagram</a>
    <a href="https://youtube.com/@username"   target="_blank" class="task yt"><i class="fab fa-youtube"></i> YouTube</a>
    <a href="https://wa.me/username"          target="_blank" class="task wa"><i class="fab fa-whatsapp"></i> WhatsApp</a>
    <button id="dl-ready" class="btn-down gate-ready"><i class="fas fa-download"></i> Download</button>
  </div>
</div>

<script>
const repo='faanzylosttt/gudang-file'; // <-- GANTI
const base=`https://raw.githubusercontent.com/${repo}/main/files`;

let allFiles=[];
let curFile=null;

/* Icon mapping */
const iconMap={
  metahan:'fa-image',
  'bot-tele':'fa-robot',
  'code-web':'fa-code',
  'bot-wa':'fa-mobile-alt'
};

/* Fetch semua file */
async function fetchAll(){
  const cats=['metahan','bot-tele','code-web','bot-wa'];
  for(const cat of cats){
    try{
      const res=await fetch(`https://api.github.com/repos/${repo}/contents/files/${cat}`);
      const data=await res.json();
      if(Array.isArray(data)){
        data.forEach(f=>{f.category=cat;f.path=`${cat}/${f.name}`});
        allFiles.push(...data);
      }
    }catch{}
  }
  render(allFiles);
}

/* Render kartu */
function render(list){
  const wall=document.getElementById('wall');
  wall.innerHTML='';
  list.forEach(f=>{
    const ext=f.name.split('.').pop().toLowerCase();
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML=`
      <i class="fas ${iconMap[f.category]||'fa-file'} icon-3d"></i>
      <div class="file-name">${f.name}</div>
      <div class="file-size">${(f.size/1024).toFixed(1)} KB</div>
      <button class="btn-down" onclick="openGate('${f.path}','${f.name}')">Download</button>
      <div class="menu" onclick="toggleMenu(this)">â‹®</div>
      <div class="dropdown">
        <a href="#" onclick="excludeFile('${f.name}')">Exclude file</a>
        <a href="#" onclick="showInfo('${f.name}')">Details</a>
      </div>
    `;
    wall.appendChild(div);
  });
}

/* Toggle titik-tiga */
function toggleMenu(btn){
  const dd=btn.nextElementSibling;
  document.querySelectorAll('.dropdown').forEach(d=>{if(d!==dd)d.style.display='none'});
  dd.style.display=dd.style.display==='block'?'none':'block';
}
document.addEventListener('click',()=>document.querySelectorAll('.dropdown').forEach(d=>d.style.display='none'));

/* Menu actions */
function excludeFile(name){
  allFiles=allFiles.filter(f=>f.name!==name);
  render(allFiles);
}
function showInfo(name){alert(`File: ${name}\nPath: ${curFile?.path || ''}`);}

/* Unlock gate */
function openGate(path,name){
  curFile={path,name};
  document.getElementById('gate').style.display='grid';
  document.querySelectorAll('.task').forEach(t=>t.classList.remove('done'));
  document.getElementById('dl-ready').style.display='none';
}
document.querySelectorAll('.task').forEach(el=>{
  el.addEventListener('click',()=>{
    el.classList.add('done');
    if([...document.querySelectorAll('.task')].every(t=>t.classList.contains('done'))){
      document.getElementById('dl-ready').style.display='block';
    }
  });
});
document.getElementById('dl-ready').addEventListener('click',()=>{
  const a=document.createElement('a');
  a.href=`${base}/${curFile.path}`;
  a.download=curFile.name;
  a.click();
  document.getElementById('gate').style.display='none';
});

fetchAll();
</script>
</body>
</html>
